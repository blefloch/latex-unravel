%
% Copyright (C) 2015 Bruno Le Floch
%
\documentclass{minimal}
\input{regression-test}
\RequirePackage[log-functions,check-declarations]{expl3}

\RequirePackage{unravel}

\START
\ExplSyntaxOn

\TEST { \unravel }
  {
    \unravel { \exp_after:wN \c_space_tl \c_space_tl }
    \unravel { \prg_replicate:nn { 12 } { } }
  }

\TEST { \unravel ~ and ~ "\ " }
  {
    \unravel { \let \ = \c_backslash_str \show \ }
  }

\TEST { \unravel ~ and ~ glue ~ sign }
  {
    \skip_set:Nn \l_tmpa_skip { 2pt plus 3pt minus 4pt }
    \unravel { \tl_set:Nx \l_tmpa_tl { \skip_eval:n { - \l_tmpa_skip } } }
  }

\TEST { \unravel ~ and ~ glue ~ multiplier }
  {
    \skip_set:Nn \l_tmpa_skip { 2pt plus 3pt minus 4pt }
    \unravel { \l_tmpb_skip = 3.4 \l_tmpa_skip plus 1 fil \scan_stop: }
    \skip_show:N \l_tmpb_skip
  }

\END
